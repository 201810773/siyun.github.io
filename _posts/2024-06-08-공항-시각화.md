---
title: 공항 실시간 운항 정보 및 주차, 날씨 정보 시각화 후기
tags: Project
---

# 프로젝트 소개

이 프로젝트는 항공기 운행 데이터, 공항 주차장 데이터, 날씨 데이터를 통합하여 이들 간의 상관관계를 분석하고 시각화하는 것을 목표로 합니다. 항공기 운항 지연의 원인 파악, 주차장 이용 패턴 분석, 날씨 조건의 영향을 종합적으로 이해함으로써 공항 운영의 효율성을 향상시키고자 합니다. 데이터를 수집, 전처리, 분석하고 시각화를 통해 인사이트를 도출하여, 항공기 운항 계획, 주차장 운영 방안, 기상 대응 전략 등에 대한 개선 방안을 제시합니다.

 이를 통해 공항 관리자는 보다 효과적인 운영 전략을 수립하고 항공기 지연을 최소화하며, 주차장 이용 편리성을 높이고 기상 조건에 대한 대응력을 강화할 수 있습니다.

- [GitHub 링크](https://github.com/pdc-3-project/gce-airflow)
- [Notion 링크](https://project-public.notion.site/3-_-6c55300cf340403e89e6be05ca0d903a?pvs=74)

## 참여 역할
- 공항별 실시간 주차장 정보(시간별 주차장별 혼잡도) DAG 작성
- 공항별 실시간 주차장 정보(시간별 주차장별 혼잡도) ETL 작성
- 실시간 주차 정보 관련 대시보드 시각화

---

## 첫 번째 이슈: 대시보드 구성 중 Redshift와 Django의 호환성 문제

### 문제의 배경
- **ORM 호환성 문제**: Django의 ORM이 Amazon Redshift의 데이터 타입 및 SQL 기능을 완벽히 지원하지 않음.
- **드라이버 및 연결 설정 문제**: Redshift와 Django 간의 연결 설정에서 오류가 발생하여 데이터베이스 통합에 어려움이 있었음.

**해결하지 않을 시**: 대시보드 구성이 불가능하여 프로젝트 진행이 지연될 수 있음.

### 시도한 해결 방법
- **RDS로 대체 시도**: Amazon RDS로 대체하여 문제를 해결하려 했으나, 요구 사항에 맞지 않아 실패.
- **`psycopg2-binary` 설치**: 드라이버 문제를 해결하기 위해 설치했으나, 여전히 문제 발생.

---

### 첫 번째 이슈 해결 과정

#### 최종 해결 방법: `django-redshift-backend` 패키지 도입

##### 패키지 역할:
- Redshift의 SQL 쿼리 요구사항에 맞게 ORM을 조정.
- Django의 데이터베이스 설정을 Redshift에 맞게 간소화.

##### 주요 기능:
- Redshift의 데이터 타입과 SQL 기능 지원.
- 커넥션 및 드라이버 설정 최적화.

##### 구체적인 코드 예제:

```python
DATABASES = {
    'default': {
        'ENGINE': 'redshift_backend',
        'NAME': 'our_database_name',
        'USER': 'our_username',
        'PASSWORD': 'our_password',
        'HOST': 'our_redshift_endpoint',
        'PORT': '5439',  # Redshift의 기본 포트
    }
}
```

#### 해결 후 결과
- **통합 성공**: Django 애플리케이션과 Redshift 간의 원활한 데이터베이스 통합이 완료되었습니다.
- **성능 향상**: Redshift에서의 데이터 조회 및 처리 속도가 개선되었고, Django 애플리케이션의 데이터베이스 작업 안정성이 향상되었습니다.

---

### 배운 점 및 교훈

이 과정을 통해 배운 것은 다음과 같습니다:
- **호환성 고려**: 프로젝트의 초기 단계에서 사용하는 기술 스택 간의 호환성을 충분히 검토하는 것이 매우 중요하다는 것을 배웠습니다. Redshift와 Django 간의 호환성 문제는 프로젝트 진행 중간에 발생하여 해결하는 데 많은 시간과 노력이 소요되었습니다. 이를 통해, 프로젝트를 시작할 때 각 기술의 제한 사항과 호환성을 미리 확인하는 것이 중요함을 깨달았습니다.
- **문제 해결 접근법**: 문제 해결 과정에서 다양한 접근법을 시도해보는 것이 중요하다는 것을 배웠습니다. 처음에는 RDS로의 대체를 시도하고, 드라이버 설치 등의 방법을 통해 문제를 해결하려 했으나, 이들이 모두 실패했을 때 문제의 근본 원인을 더 깊이 파악하고, 최적의 솔루션을 찾기 위해 다양한 시도를 해보았습니다. 이 과정에서 실패를 두려워하지 않고, 끊임없이 새로운 방법을 탐색하는 것이 중요하다는 교훈을 얻었습니다.

#### 추가 개선 가능성
- 현재는 문제를 해결했지만, 미래에는 Redshift와 Django의 호환성을 더 원활하게 유지하기 위해 정기적으로 패키지 업데이트 및 최적화 방안을 검토할 필요가 있습니다.

---

### 결론

프로젝트 진행 중 발생한 문제를 해결하는 과정에서 많은 교훈을 얻었으며, 기술 스택 간의 호환성 문제를 해결할 수 있는 방법을 배웠습니다. 이 글이 비슷한 문제를 겪는 분들에게 도움이 되길 바랍니다.

### 추가 자료
- [Django-Redshift-Backend GitHub](https://github.com/jonashagstedt/django-redshift-backend)
- [Amazon Redshift Documentation](https://docs.aws.amazon.com/redshift/index.html)

---

### Q&A

**Q: 왜 django와 redshift 구성을 고집했는가? 다른 방법은 왜 사용하지 않았나?**

**A:** Django와 Redshift의 구성을 고집한 이유는 두 가지 주요 요소가 있습니다. 첫째, 프로젝트는 많은 상세 페이지와 복잡한 기능을 필요로 했습니다. Django는 그 유연성과 강력한 기능 덕분에 복잡한 웹 애플리케이션을 효율적으로 구축할 수 있는 프레임워크로 적합했습니다. Django의 ORM과 관리 인터페이스는 복잡한 데이터 구조와 다양한 요구사항을 처리하는 데 매우 유용했습니다.

둘째, Redshift는 대규모 데이터 처리와 분석에 최적화된 데이터베이스로, 우리가 처리해야 할 방대한 이벤트 데이터를 효율적으로 관리할 수 있는 능력을 제공했습니다. 다른 대체 데이터베이스, 예를 들어 Amazon RDS는 Redshift와 같은 수준의 데이터 처리 능력을 제공하지 못했습니다.


**Q: 다른 방법들(RDS,  psycopg2-binary 드라이버 설치)은 왜 사용하지 않았나?**

**A:** 다른 방법들, 예를 들어 Amazon RDS로의 대체를 시도했지만, Redshift가 제공하는 대규모 데이터 처리와 분석 기능을 대체할 수 없었기 때문에 실패했습니다. 또한, psycopg2-binary 드라이버 설치를 통한 연결 문제 해결도 시도했지만, 이는 호환성 문제를 완전히 해결할 수 없었습니다. 결과적으로, django-redshift-backend 패키지가 Django와 Redshift 간의 호환성을 최적화할 수 있는 가장 적합한 솔루션으로 판단되어 선택하게 되었습니다.

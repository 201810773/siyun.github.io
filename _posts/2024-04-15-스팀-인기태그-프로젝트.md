---
title: 게임 개발자를 위한 스팀 인기 태그 Trend Dashboard 후기
tags: Project
---

# 프로젝트 소개

본 프로젝트는 디지털 게임 배포 플랫폼인 Steam의 실시간 정보를 활용하여, 게임 개발자들이 게임 개발에 필요한 사업성 정보와 트렌드를 파악할 수 있도록 하는 것입니다.
- [Github link](https://github.com/lv1turtle/Popular-Steam-Chart)
- [Notion 링크](https://round-territory-71b.notion.site/1-_-2-1-b719a918a745401a9b361d5d550a6063)

## 참여 역할
- 게임 태그 데이터 수집(웹 크롤링)
- 백엔드 기능 구현(데이터 시각화)

---

## 첫 번째 이슈: 웹 크롤링 중 태그 검색 문제 해결

### 문제의 배경
- **사이트 인증 문제**: 스팀 사이트에서 성인 이용 게임의 상세 페이지로 넘어갈 때, 매번 성인 인증을 요구하여 데이터 수집에 어려움을 겪었습니다.
- **태그 검색 문제**: 웹 페이지에서 태그 검색 시 체크박스와 라벨이 혼용되어 있어 검색 기능 구현에 어려움을 겪었습니다.
- **게임 외 프로그램**: 스팀 사이트의 실시간 랭킹에 게임 이외의 프로그램(예: Steam Link, Steam Deck 등)이 섞여 있어 데이터 수집에 어려움이 있었습니다.

**해결하지 않을 시**: 태그 검색 기능이 제대로 작동하지 않아 필요한 정보를 웹 페이지에서 정확하게 추출할 수 없으며, 작업의 정확성과 효율성이 저하될 수 있습니다.

### 시도한 해결 방법
- **상세 페이지 성인 인증 우회**: 성인 인증은 생년월일 입력만으로 해결되지만, 각 페이지를 열었다 닫았다 하면서 인증을 시도하는 방식은 시간이 오래 걸렸습니다.
- **게임 외 프로그램 필터링**: 가격 정보가 없을 경우를 처리하기 위해 `pass`를 시도했으나, `할인가`가 `free`인 경우도 함께 `pass`되는 문제가 있었습니다.

---

### 첫 번째 이슈 해결 과정

#### 최종 해결 방법: 체크박스와 라벨의 혼용을 고려한 검색 로직 개선

##### 접근 방법:
- **체크박스와 라벨 구조 분석**: 웹 페이지에서 체크박스와 라벨의 HTML 구조를 분석하여 어떤 태그와 속성을 기준으로 필터링할지 결정했습니다.
- **태그 검색 로직 개선**: BeautifulSoup을 사용하여 체크박스와 라벨을 구별할 수 있는 로직을 추가했습니다. `input` 태그와 `label` 태그를 분리하여 각각의 역할에 맞게 처리하였습니다.

##### 구체적인 코드 예제:
```python
import requests
from bs4 import BeautifulSoup
import re
from tqdm import tqdm

def TopSeller():
    links = []
    with webdriver.Chrome(service=Service(ChromeDriverManager().install())) as driver:
        driver.get("https://store.steampowered.com/search/?os=win&filter=topsellers&ndl=1")
        actions = ActionChains(driver)
        driver.implicitly_wait(10)
        actions.send_keys(Keys.END).perform()
        driver.implicitly_wait(3)
        actions.send_keys(Keys.END).perform()
        for i in tqdm(range(1, 101)):
            link = WebDriverWait(driver, 30).until(
                EC.presence_of_element_located(
                    (By.XPATH, '//*[@id="search_resultsRows"]/a[{}]'.format(i))
                )
            )
            links.append(link.get_attribute("href"))

    game_data_list = []
    p_id = r'\d+'
    p_price = re.compile('Free|Try|Demo')
    user_agent = {
        "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36"
    }

    for link in tqdm(links):
        res = requests.get(link, headers=user_agent)
        soup = BeautifulSoup(res.text, "html.parser")
        tags = soup.find_all("a", "app_tag")
        if soup.find("div", id="appHubAppName"):
            game_name = soup.find("div", id="appHubAppName").text
            game_id = int(re.search(p_id, link).group())
            if soup.find("div", "game_purchase_price price"):
                price = (
                    soup.find("div", "game_purchase_price price")
                    .text.strip()
                    .replace(",", "")
                    .replace("₩", "")
                )
            elif soup.find("div", "discount_final_price"):
                price = (
                    soup.find("div", "discount_final_price")
                    .text.strip()
                    .replace(",", "")
                    .replace("₩", "")
                )
            if p_price.search(price):
                price = 0
            tags_list = [tag.text.strip() for tag in tags]
            game_data_list.append([game_name, tags_list, price, game_id])

    return game_data_list
```

#### 해결 후 결과
- **인증 문제 해결**: BeautifulSoup을 사용하여 페이지의 HTML을 직접 가져오면서 성인 인증 과정을 우회할 수 있었습니다. 이로 인해 실시간 데이터 수집 시간이 크게 단축되었습니다.
- **정확한 태그 검색**: 체크박스와 라벨을 구별할 수 있는 로직을 추가함으로써 웹 페이지에서 필요한 정보를 보다 정확하게 추출할 수 있었습니다. 이로 인해 태그 검색 기능의 정확성과 효율성이 크게 향상되었습니다.
- **성능 개선**: 검색 기능의 정확도가 높아지고, 웹 페이지에서 필요한 정보를 신속하고 정확하게 얻을 수 있게 되었습니다. 이로 인해 데이터 수집의 신뢰성과 속도가 개선되었습니다.

---

### 배운 점 및 교훈

이 과정을 통해 배운 점은 다음과 같습니다:
- **사이트 인증 처리**: 웹 크롤링 도구의 선택과 설정이 사이트의 인증 절차에 미치는 영향을 이해하게 되었으며, 성인 인증과 같은 보안 요소를 우회할 수 있는 방법을 찾는 것이 중요하다는 것을 배웠습니다.
- **태그 검색의 중요성**: 복잡한 HTML 구조에서 태그 검색의 정확성을 높이기 위해서는 태그와 속성의 분석이 필요하다는 것을 깨달았습니다. 체크박스와 라벨의 혼용 문제를 해결하기 위해 태그 구별 로직을 추가하는 것이 데이터의 정확성을 높이는 데 중요한 방법임을 알게 되었습니다.
- **비정형 데이터 처리**: 게임과 프로그램이 혼합된 데이터에서 정확한 정보를 추출하기 위해 필터링 로직을 추가하는 것이 필요하다는 것을 배웠습니다. 이를 통해 데이터 수집의 정확성을 향상시킬 수 있었습니다.

#### 추가 개선 가능성
- **동적 웹 페이지 처리**: 동적으로 생성되는 콘텐츠를 효과적으로 처리하기 위해, JavaScript 렌더링을 지원하는 도구(예: Selenium)와의 통합을 검토할 필요가 있습니다. 이러한 도구를 통해 다양한 웹 페이지 구조에 대응할 수 있을 것입니다.
- **태그 구분 로직 최적화**: HTML 구조가 변경될 경우에도 유연하게 대응할 수 있도록 태그 구분 로직을 더욱 최적화할 필요가 있습니다. 이는 웹 페이지 구조의 변화에 신속하게 대응할 수 있게 도와줍니다.
- **비정형 데이터 처리**: 게임 외 프로그램과 같은 비정형 데이터를 보다 효율적으로 처리할 수 있는 방법을 추가적으로 개발하여 데이터 수집의 정확성을 더욱 높일 수 있습니다.

---

### 결론

웹 크롤링 과정에서 발생한 태그 검색 문제를 해결하면서 HTML 구조를 분석하고 로직을 개선하는 방법을 배웠습니다. 성인 인증 우회, 태그 검색 개선, 비정형 데이터 처리 등에서의 경험은 웹 크롤링의 정확성과 효율성을 높이는 데 큰 도움이 되었습니다. 이 글이 비슷한 문제를 겪는 분들에게 유용한 정보가 되기를 바랍니다.

---

### Q&A

**Q: 왜 Selenium 대신 BeautifulSoup으로 변경했는가?**

**A:** Selenium은 웹 페이지의 동적 요소와 사용자 상호작용을 처리하는 데 유리하지만, 상대적으로 성능이 낮을 수 있습니다. BeautifulSoup은 정적 HTML 문서를 처리하는 데 적합하여 성능 개선을 위해 사용하였습니다. 웹 페이지의 동적 요소가 없는 경우에는 BeautifulSoup이 더 효율적입니다.

**Q: 태그 검색 문제를 해결하기 위해 어떤 점을 가장 중점적으로 고려했는가?**

**A:** 태그 검색 문제를 해결하기 위해 HTML 구조의 정확한 분석과 체크박스 및 라벨의 구분 방법을 중점적으로 고려했습니다. 체크박스와 라벨이 혼용된 경우, 각각의 요소를 올바르게 구분하고 처리하는 로직을 설계하여 검색 정확도를 높이는 데 집중했습니다. 또한, 비정형 데이터(게임과 프로그램 혼합)의 필터링 방법을 추가하여 데이터 수집의 정확성을 향상시켰습니다.

---

## 두 번째 이슈: Django 사용 시 개발 지연 및 비효율적인 백엔드 기능 문제

### 문제의 배경
- **개발 지연**: Django 프로그램을 처음 사용하면서 예상보다 많은 시간이 소요됨.
- **비효율적인 기능**: 사용하지 않는 백엔드 기능에 지나치게 많은 시간 소모.
- **도구 미비**: 대시보드 지원 사이트(Superset 등)를 몰랐고, 개발 중에 적절한 도구를 활용하지 못함.

**해결하지 않을 시**: 프로젝트의 진행 속도가 느려지고, 불필요한 기능 구현에 많은 시간을 소모하게 됨.

### 시도한 해결 방법
- **기존 Django 기능 활용**: Django의 기본 기능만을 활용하여 문제를 해결하려 했으나, 비효율적임.
- **대시보드 도구 탐색**: 적절한 대시보드 도구를 탐색하려 했으나, 프로젝트 중에 적절한 도구를 찾지 못함.

---

### 두 번째 이슈 해결 과정

#### 최종 해결 방법: 비슷한 프로젝트를 참고해서 대시보드 도구 도입 및 Django 템플릿 활용 (다음 프로젝트에서 적용)

##### 대시보드 도구 활용:
- **Superset, Preset 등**: 대시보드 및 데이터 시각화 도구를 도입하여 개발 효율성을 향상시킴. **이 방법은 다음 프로젝트에서 적용됨.**
- **기능 정리**: 프로젝트 요구 사항에 맞는 기능을 선별하여 불필요한 백엔드 기능을 제거함.

##### Django 템플릿 활용:
- **템플릿 시스템 사용**: Django의 템플릿 시스템을 활용하여 개발 기간을 단축하고, 보다 효율적인 개발을 구현함. **이 방법 또한 다음 프로젝트에서 적용됨.**

##### 주요 기능:
- **대시보드 구성**: 데이터 시각화를 통해 실시간 모니터링 및 분석 가능.
- **기능 단순화**: 필요 없는 기능을 제거하고, 프로젝트에 필요한 기능만을 집중적으로 개발.

#### 해결 후 결과
- **개발 효율성 향상**: 대시보드 도구 도입으로 데이터 시각화 및 분석이 쉬워졌음.
- **시간 절약**: 불필요한 백엔드 기능을 제거하고, 필요한 기능만을 집중하여 개발 시간을 절약함.
- **개발 기간 단축**: Django 템플릿을 사용하여 **다음 프로젝트에서** 개발 기간을 크게 줄임.

---

### 배운 점 및 교훈

이 과정을 통해 배운 것은 다음과 같습니다:
- **초기 도구 검토**: 프로젝트 시작 전에 사용할 도구와 기술을 충분히 검토하고, 적합한 도구를 선택하는 것이 중요하다는 것을 배웠습니다. 대시보드 도구와 같은 기능적 요구사항을 미리 고려하지 않았던 점이 개발 지연의 원인 중 하나였습니다.
- **효율적인 기능 관리**: 프로젝트 진행 중에는 필요 없는 기능을 조기에 제거하고, 필요한 기능만을 집중적으로 개발하는 것이 중요하다는 것을 깨달았습니다. 이는 개발 시간을 절약하고, 효율적인 결과를 도출하는 데 도움을 주었습니다.
- **템플릿 시스템 활용**: Django 템플릿 시스템을 활용하여 개발 기간을 단축하고, 효율적인 웹 애플리케이션 개발을 실현할 수 있었습니다.

#### 추가 개선 가능성
- **도구 업데이트 및 평가**: 미래에는 새로운 대시보드 도구 및 기술을 정기적으로 평가하고, 최신 도구를 활용하여 개발 효율성을 지속적으로 향상시킬 필요가 있습니다.

---

### 결론

대시보드 도구와 Django 템플릿 시스템을 활용하여 **다음 프로젝트에서** 개발 효율성을 크게 향상시킬 수 있었으며, 이러한 교훈은 향후 프로젝트에서도 유용하게 적용될 것입니다. 이 글이 비슷한 문제를 겪는 분들에게 도움이 되길 바랍니다.

---

### Q&A

**Q: 대시보드 도구는 왜 도입했나?**

**A:** 대시보드 도구는 데이터 시각화와 실시간 분석을 가능하게 하여 개발 효율성을 높이고, 비효율적인 백엔드 기능을 줄이는 데 도움을 주었습니다. 초기 단계에서 적절한 도구를 미리 도입했다면 개발 시간이 줄어들었을 것이지만, 나중에 도구를 도입함으로써 문제를 해결할 수 있었습니다.

**Q: Django 템플릿 시스템이 어떻게 도움이 되었나?**

**A:** Django 템플릿 시스템을 사용하여 웹 애플리케이션의 프론트엔드와 백엔드를 효율적으로 통합할 수 있었고, 개발 기간을 크게 단축할 수 있었습니다. 템플릿 시스템은 코드 중복을 줄이고, 빠르게 사용자 인터페이스를 구축하는 데 유용했습니다.


---
